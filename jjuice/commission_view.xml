<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
		  <record id="commission_view_record" model="ir.ui.view">
	            <field name="name">commision view</field>
	            <field name="model">commission.employee</field>
	            <field name="arch" type="xml">
			     	<form string = "form view">
			     		<group>
			     			<field name="name"/>
							<field name="pending_commission"/>
							<field name="paid_commission"/>
							<field name="active"/>
						</group>
						<button name = "pay_all" type= "object" string = "Pay all" groups = "base.group_sale_manager"/>
						<group>
						</group>
						<notebook>
						  <page string='Pending Commission'>
								<group>
									<field name='pending' nolabel='1' >
										<tree editable='bottom'>
											<button name = "change_state" type= "object" groups = "base.group_sale_manager" string = "Paid" attrs = "{'invisible':[('state','=','paid')]}"/>
											<field name='sale_date'/>
											<field name='sale_order'/>
											<field name='total_sale'/>
											<field name='total_commission'/>
											<field name='customer'/>
											<field name='commission_employee'/>
											<field name='state'/>
										</tree>
									</field>
								</group>
							</page> 
						  <page string='Paid Commission'>
							<group>
								<field name='paid' nolabel='1' >
									<tree editable='bottom'>
										<field name='sale_date'/>
										<field name='sale_order'/>
										<field name='total_sale'/>
										<field name='total_commission'/>
										<field name='customer'/>
										<field name='commission_employee'/>
									</tree>
							</field>
							</group>
						</page>
						 <page string='Cancel Commission'>
							<group>
								<field name='cancel' nolabel='1' >
									<tree editable='bottom'>
										<field name='sale_date'/>
										<field name='sale_order'/>
										<field name='total_sale'/>
										<field name='total_commission'/>
										<field name='customer'/>
										<field name='commission_employee'/>
									</tree>
							</field>
							</group>
						</page>
						
						</notebook>
						 
		            </form>
				</field>
		</record>
		<record id="commission_view_tree" model="ir.ui.view">
	            <field name="name">commision view</field>
	            <field name="model">commission.employee</field>
	            <field name="arch" type="xml">
			     	<tree string = "tree view">
						<field name="name"/>
						<field name="pending_commission" sum="Total Pending"/>
						<field name="paid_commission" sum="Total Paid"/>
			    	</tree>
			</field>
		</record>
        <record id="action_commission" model="ir.actions.act_window">
            <field name="name">Commission </field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">commission.employee</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
		
		<menuitem id = "menu_commission" action = "action_commission" parent = "base.menu_sales" /> 
    
      <!-- add one menu completed sale order in sale -->
      
      <menuitem id="sale_menu_order_completed" name="Completed Sale Order " parent="base.menu_sales"/>
      <record id="action_completed_sale_order" model="ir.actions.act_window">
            <field name="name">Completed Sale Order </field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=', 'done')]</field>
        </record>
		
		<menuitem id = "menu_completed_sale_order" action = "action_completed_sale_order" parent = "base.menu_sales" /> 
      
      
      
      
      </data>
      
</openerp>  